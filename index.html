
<!DOCTYPE html>

<html lang="es">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <meta name="theme-color" content="#000000"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg" type="image/png">
  <link rel="apple-touch-icon" href="https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('service-worker.js').then(function (registration) {
          console.log('ServiceWorker registrado con éxito:', registration.scope);
        }, function (err) {
          console.log('Error al registrar ServiceWorker:', err);
        });
      });
    }
  </script>

<title>Con los manes radio</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    




    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
  width: 100%;
  height: 100dvh;
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  font-family: 'Segoe UI', sans-serif;
  background: transparent;
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}

    .header {
  font-size: 14px;
  color: #ccc;
  margin-top: env(safe-area-inset-top);
}

    .station {
  font-size: 18px;
  font-weight: bold;
  color: white;
  margin-bottom: 20px;
}

    .cover {
      width: 80%;
      max-width: 300px;
      aspect-ratio: 1;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      margin-bottom: 20px;
    }

    .cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .social-icons {
      flex-wrap: nowrap;
      flex-shrink: 0;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 15px 0;
    }

    .social-icons i {
      font-size: 24px;
      color: white;
      opacity: 0.9;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform 0.2s, background 0.3s;
    }

    .social-icons i:hover {
      transform: scale(1.2);
      background: rgba(255, 255, 255, 0.2);
    }
      color: white;
      opacity: 0.9;
      cursor: pointer;
      padding: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform 0.2s, background 0.3s;
    }

    .social-icons i:hover {
      transform: scale(1.2);
      background: rgba(255, 255, 255, 0.2);
    }
      color: white;
      opacity: 0.9;
      cursor: pointer;
      padding: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform 0.2s, background 0.3s;
    }

    .social-icons i:hover {
      transform: scale(1.2);
      background: rgba(255, 255, 255, 0.2);
    }
      color: white;
      opacity: 0.9;
      cursor: pointer;
      padding: 14px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform 0.2s, background 0.3s;
    }

    .social-icons i:hover {
      transform: scale(1.2);
      background: rgba(255, 255, 255, 0.2);
    }
      color: white;
      opacity: 0.8;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .social-icons i:hover {
      transform: scale(1.2);
      opacity: 1;
    }

    .song-info {
      margin-top: 10px;
    }

    .title {
      font-size: 20px;
      font-weight: 500;
    }

    .artist {
      font-size: 16px;
      color: #ccc;
    }

    .controls {
      margin: 25px 0;
      display: flex;
      justify-content: center;
      gap: 40px;
    }

    .controls i {
      font-size: 52px;
      color: white;
      background: rgba(255, 255, 255, 0.1);
      padding: 18px;
      border-radius: 50%;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s, background 0.3s;
    }

    .controls i:hover {
      transform: scale(1.1);
      background: rgba(255, 255, 255, 0.2);
    }
      color: white;
      cursor: pointer;
    }

    .bottom-actions {
      display: flex;
      justify-content: space-around;
      width: 100%;
      max-width: 400px;
      margin-top: auto;
      margin-bottom: 30px;
      font-size: 14px;
      color: #ccc;
    }

    .bottom-actions div {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      cursor: pointer;
    }

    .bottom-actions i {
      font-size: 18px;
      color: #ccc;
    }

    .bottom-actions .favorite {
      color: red;
    }
  
html, body {
  width: 100%;
  height: 100dvh;
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  font-family: 'Segoe UI', sans-serif;
  background: transparent;
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}
</style>
<meta content="#000000" name="theme-color"/><style>
:root {
  --dynamic-bg: url('https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg');
}
</style>
<style>
#blur-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100dvh;
  z-index: -2;
  background-image: var(--dynamic-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: blur(30px);
  transform: scale(1.05);
}

#blur-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.4);
  z-index: -1;
}
</style>


<link rel="manifest" href="manifest.json">
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('service-worker.js').then(function (registration) {
        console.log('ServiceWorker registrado con éxito:', registration.scope);
      }, function (err) {
        console.log('Error al registrar ServiceWorker:', err);
      });
    });
  }
</script>

</head>
<body style="height: 100dvh; padding-top: env(safe-area-inset-top); background-color: transparent;">

<div id="blur-background"></div>
<div id="blur-overlay"></div>
<audio id="radio" src="https://stream.zeno.fm/z1gpzd2sshruv" style="display: none;"></audio>
<div class="header">Ahora escuchas:</div>
<div class="station">Con los manes radio</div>
<div class="cover">
<img alt="Logo Cover" src="https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg"/>
</div>
<div class="social-icons">
<a href="tel:+50489647810"><i class="fas fa-phone" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
<a href="https://wa.me/50489647810" target="_blank"><i class="fab fa-whatsapp" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
<a href="https://www.facebook.com/profile.php?id=100083165175642" target="_blank"><i class="fab fa-facebook" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
<a href="https://www.conlosmanes.com/" target="_blank"><i class="fas fa-globe" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
<a href="https://www.youtube.com/@LosManesOficialhn" target="_blank"><i class="fab fa-youtube" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
<a href="https://www.tiktok.com/@losmanesoficial?_t=ZT-8yEI752utvD&_r=1" target="_blank"><i class="fab fa-tiktok" style="font-size: 24px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; padding: 12px; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></i></a>
</div>
<div class="song-info">
<div class="title">Cargando canción...</div>
<div class="artist">Cargando artista...</div>
</div>
<div class="controls">
<i class="fas fa-backward" style="font-size: 36px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; width: 64px; height: 64px; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);"></i>
<i class="fas fa-play" id="playPauseBtn" style="font-size: 48px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; width: 88px; height: 88px; display: flex; justify-content: center; align-items: center; text-align: center; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);"></i>
<i class="fas fa-forward" style="font-size: 36px; color: white; cursor: pointer; transition: transform 0.2s; background: rgba(255, 255, 255, 0.08); border-radius: 50%; width: 64px; height: 64px; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);"></i>
</div>
<div class="bottom-actions" style="display: flex; flex-direction: row; justify-content: space-around; align-items: center; gap: 12px; flex-wrap: nowrap; padding: 0 12px; text-align: center;margin-top: 60px;">
<div onclick="compartir()"><i class="fas fa-share"></i><span>Compartir</span></div>
<div><i class="fas fa-star"></i><span>Calificar</span></div>
<div onclick="activarTemporizador()"><i class="fas fa-clock"></i><span>Temporizador</span></div>
<div onclick="abrirFormularioReporte()"><i class="fas fa-exclamation-triangle"></i><span>Reportar</span></div>
<div id="favoritoBtn" onclick="alternarFavorito()"><i class="fas fa-heart" id="iconoFavorito"></i><span id="textoFavorito">Agregar a favoritos</span></div>
</div>
<script>
      const audio = document.getElementById("radio");
      const playPauseBtn = document.getElementById("playPauseBtn");

      playPauseBtn.addEventListener("click", () => {
        if (audio.paused) {
          audio.play();
          playPauseBtn.classList.remove("fa-play");
          playPauseBtn.classList.add("fa-pause");
        } else {
          audio.pause();
          playPauseBtn.classList.remove("fa-pause");
          playPauseBtn.classList.add("fa-play");
        }
      });
    </script><script>
document.addEventListener("DOMContentLoaded", function () {
  async function fetchMetadata() {
    try {
      const res = await fetch("https://free.miradio.pro/icy?url=https://stream.zeno.fm/z1gpzd2sshruv");
      const data = await res.json();
      console.log("Metadata:", data);

      let artist = "Desconocido";
      let song = "Sin título";

      if (data && data.songtitle) {
        if (data.songtitle.includes(" - ")) {
          const parts = data.songtitle.split(" - ");
          artist = parts[0]?.trim() || artist;
          song = parts[1]?.trim() || song;
        } else {
          song = data.songtitle;
        }
      }

      document.querySelector(".title").textContent = song;
      document.querySelector(".artist").textContent = artist;

      let imageUrl = "";
      if (data.artwork && data.artwork.large) {
        imageUrl = data.artwork.large;
      } else if (data.artist_image) {
        imageUrl = data.artist_image;
      }

      const finalUrl = imageUrl || "https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg";

      const coverImg = document.querySelector(".cover img");
      if (coverImg) {
        coverImg.src = finalUrl;
        document.documentElement.style.setProperty('--dynamic-bg', `url('${finalUrl}')`);
      }

      if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
          title: song,
          artist: artist,
          album: "Con Los Manes Radio",
          artwork: [
            { src: finalUrl, sizes: '512x512', type: 'image/jpeg' }
          ]
        });

        navigator.mediaSession.setActionHandler('play', () => audio.play());
        navigator.mediaSession.setActionHandler('pause', () => audio.pause());
      }

    } catch (e) {
      console.error("Error al obtener metadata:", e);
    }
  }

  setInterval(fetchMetadata, 15000);
  fetchMetadata();
});
</script>
<script>
  function compartir() {
    if (navigator.share) {
      navigator.share({
        title: 'Con Los Manes Radio',
        text: '¡Escucha en vivo Con Los Manes Radio!',
        url: window.location.href
      })
      .then(() => console.log('Compartido con éxito'))
      .catch((error) => console.error('Error al compartir:', error));
    } else {
      alert("La opción de compartir no está disponible en este dispositivo.");
    }
  }
</script>


<script>
  function activarTemporizador() {
    const minutos = prompt("¿En cuántos minutos deseas que se apague la radio?");
    const tiempo = parseInt(minutos);
    if (!isNaN(tiempo) && tiempo > 0) {
      alert("La radio se apagará en " + tiempo + " minutos.");
      setTimeout(() => {
        const audio = document.getElementById("radio");
        if (audio && !audio.paused) {
          audio.pause();
          const playBtn = document.getElementById("playPauseBtn");
          playBtn.classList.remove("fa-pause");
          playBtn.classList.add("fa-play");
          alert("⏱ Se acabó el tiempo. La radio se ha detenido.");
        }
      }, tiempo * 60000);
    } else {
      alert("Ingresa un número válido de minutos.");
    }
  }
</script>


<script>
  function abrirFormularioReporte() {
    const nombre = prompt("¿Cuál es tu nombre?");
    if (!nombre) {
      alert("Debes ingresar tu nombre para enviar un reporte.");
      return;
    }

    const mensaje = prompt("¿Qué deseas reportar?");
    if (!mensaje) {
      alert("Debes escribir un motivo del reporte.");
      return;
    }

    const mailto = `mailto:micasaperu21@gmail.com?subject=Reporte%20de%20usuario%20Con%20Los%20Manes&body=Nombre: ${encodeURIComponent(nombre)}%0AReporte: ${encodeURIComponent(mensaje)}`;
    window.location.href = mailto;
  }
</script>


<script>
  function alternarFavorito() {
    const icono = document.getElementById("iconoFavorito");
    const texto = document.getElementById("textoFavorito");

    const esFavorito = icono.classList.contains("favorite");

    if (esFavorito) {
      icono.classList.remove("favorite");
      icono.style.color = "#ccc";
      texto.textContent = "Agregar a favoritos";
    } else {
      icono.classList.add("favorite");
      icono.style.color = "red";
      texto.textContent = "Favorito";
    }

    // Guarda el estado en localStorage para recordar
    localStorage.setItem("esFavorito", !esFavorito);
  }

  // Al cargar la página, restaura el estado si estaba marcado como favorito
  document.addEventListener("DOMContentLoaded", () => {
    const esFavoritoGuardado = localStorage.getItem("esFavorito") === "true";
    if (esFavoritoGuardado) {
      document.getElementById("iconoFavorito").classList.add("favorite");
      document.getElementById("iconoFavorito").style.color = "red";
      document.getElementById("textoFavorito").textContent = "Favorito";
    }
  });
</script>


<!-- Botón flotante para instalar -->
<button id="installBtn" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border: none;
  border-radius: 50%;
  padding: 18px;
  font-size: 24px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
  display: none;
">
  <img src='https://i.postimg.cc/7P16p799/IMG-20250430-WA0323.jpg' style='width:32px; height:32px; border-radius: 50%;'>
</button>

</body>

<script>
  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    const installBtn = document.getElementById('installBtn');
    if (installBtn) installBtn.style.display = 'block';
  });

  window.addEventListener('appinstalled', () => {
    const installBtn = document.getElementById('installBtn');
    if (installBtn) installBtn.style.display = 'none';
  });

  document.addEventListener("DOMContentLoaded", function () {
    const installBtn = document.getElementById('installBtn');
    if (installBtn) {
      installBtn.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          if (outcome === 'accepted') {
            console.log('PWA instalada');
          }
          deferredPrompt = null;
        }
      });
    }
  });
</script>

</html>
